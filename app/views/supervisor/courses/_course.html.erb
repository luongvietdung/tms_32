<tr>
  <td>
    <%= link_to course.name, course %>
  </td>
  <td>
    <%= course.description.truncate 100 %>
  </td>
  <% unless course.closed? %>
    <td>
      <%= link_to course.users.count, supervisor_course_course_user_path(course) %>
    </td>
    <td>
      <%= link_to course.subjects.count, supervisor_course_course_subject_path(course) %>
    </td>
  <% else %>
    <td><%= course.users.count %></td>
    <td><%= course.subjects.count %></td>
  <% end %>
  <td>
    <% if course.owned_by? current_user %>
      <span class="label label-danger">
        <%= t "supervisor.courses.general.owner" %>
      </span>
    <% else %>
      <span class="label label-default">
        <%= t "supervisor.courses.general.supervisor" %>
      </span>
    <% end %>
  </td>
  <td>
    <% if course.is_active? %>
      <span class="label label-success"><%= t "courses.general.active" %></span>
    <% else %>
      <span class="label label-default"><%= t "courses.general.unactive" %></span>
    <% end %>
  </td>
  <td>
    <%= link_to t("application.buttons.update_subjects"),
      supervisor_course_course_subject_path(course),
      class: "btn btn-default", disabled: course.closed?  %>
  </td>
  <td>
    <%= link_to t("application.buttons.update_users"),
      supervisor_course_course_user_path(course), class: "btn btn-success",
      disabled: course.closed? %>
  </td>
  <td>
    <%= link_to t("application.buttons.edit"),
      edit_supervisor_course_path(course), class: "btn btn-primary",
      disabled: course.closed? %>
  </td>

  <% if course.owned_by? current_user %>
    <td>
      <%= link_to t("application.buttons.delete"),
        supervisor_course_path(course), method: :delete, class: "btn btn-danger",
        data: {confirm: t("application.messages.confirm")} %>
    </td>
  <% end %>

  <td>
    <% unless course.closed? %>
      <%= link_to t("application.buttons.close"),
        supervisor_course_path(course, type: "close_course"),
        method: :patch, data: {confirm: t("application.messages.confirm")},
        class: "btn btn-warning" %>
    <% else %>
      <div class="btn btn-default disabled button-close"><%= t "application.buttons.closed" %></div>
    <% end %>
  </td>
</tr>
